<!DOCTYPE html>
<html ng-app="myApp">
<head>
  <title>Harvester App</title>
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" type="text/css" href="new.css">

  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
  integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

  <!-- Optional theme -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css"
  integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous"> 

  <!-- Dial view for parameters, Google data visualization -->
 <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-sanitize.js"></script>

  <!-- Google gauge charts-->
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
 

  <!-- Google Map sync to track location of Harvester -->
  <meta name="viewport" content="initial-scale=1.0">
  <script type="text/javascript" src="http://www.google.com/jsapi"></script>

  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
  <script type="text/javascript" src="http://canvasjs.com/assets/script/canvasjs.min.js"></script>

  <!--High Charts -->
  <script src="https://code.highcharts.com/highcharts.js"></script>
  <script src="https://code.highcharts.com/highcharts-more.js"></script>
  <script src="https://code.highcharts.com/modules/solid-gauge.js"></script>


  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0%;
    }

    .map {
      height: 25%;
    }
    table, th , td  {
      border: 1px solid grey;
      border-collapse: collapse;
      padding: 5px;
    }
    table tr:nth-child(odd) {
      background-color: #f1f1f1;
    }
    table tr:nth-child(even) {
      background-color: #ffffff;
    }
    #outer{text-align:left;}
    .one{
      display: flex;
      text-align:center;
      text-decoration-style: wavy;
      width: 75%;
    }
    .red{
       background-color: red;
    }
    h3{
      color:    #000000;
    }
    .highcharts-yaxis-grid .highcharts-grid-line {
  display: none;
}
  </style>

    <!-- Google Maps API -->
<!--<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyANiD_A1WFgFK2ZeALR8EoV6HB5uvx4sNI"></script> -->
<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyANiD_A1WFgFK2ZeALR8EoV6HB5uvx4sNI&libraries=visualization">
</script>

</head>
<body>
  <div class="container" ng-controller="AppCtrl">
    <h1>Harvester Dashboard</h1>
    <br>

    <!-- Here is the code for entering Date in the format of w3c-->
    <h3>Current Time: </h3>
    <p id="demo"></p>
    <script>
      document.getElementById("demo").innerHTML = Date();
    </script>
    <hr>
    <!-- Maps for locating Harvester and Heat Map for location tracking-->

    <!-- Locate your Harvester-->
    <h3>Location Tracker: </h3>
    <div id="map" style="width:70%;height:350px"></div>
    <br>

    <!--Performence Management -->
    <h3>Performance Management: </h3>
    <div>  
      <div id='chart_div' style="width: 800px; height: 240px;"></div>
    </div>
    <br>

    <!--Real Time Charts -->
    <div>
      <h3>Realtime Data: </h3>
      <div id="chartContainer" style="height: 300px; width: 75%;"></div>
      <br>
      <div id="chartContainer1" style="height: 300px; width: 75%;"></div>
      <br>
      <div id="chartContainer2" style="height: 300px; width: 75%;"></div>
      <br>
      <div id="chartContainer3" style="height: 300px; width: 75%;"></div>
      <br>
      <div id="chartContainer4" style="height: 300px; width: 75%;"></div>
    </div>
    <br>
    <!-- Data Table-->
    <div id="outer">
      <h3>Data Table: </h3>

      <div class="one">
        <table>  
          <h4>Oil Pressure: </h4>
          <tr ng-repeat="x in myPressure | limitTo : -5">
            <td>{{ $index + 1 }}</td>
            <td>{{x.pressure}}</td>
          </tr>
        </table>
      </div>

      <div class="one">
        <table>
          <h4>Fuel Level: </h4>
          <tr id="fuel" ng-repeat="y in myFuel | limitTo : -5"">
            <td>{{ $index + 1 }}</td>
            <td id="fuelclm" ng-class="{'red': (y.fuellevel <= 20)}">{{y.fuellevel}}</td>           
          </tr>
        </table>

        </div>

      <div class="one">
        <table>
          <h4>Oil Level: </h4>
          <tr ng-repeat="z in myOil | limitTo : -5">
            <td>{{ $index + 1 }}</td>
            <td ng-class="{'red': (z.oillevel <= 20)}">{{z.oillevel}}</td>
          </tr>
        </table>
      </div>

      <div class="one">
        <table>
          <h4>Location: </h4>
          <div ng-repeat="w in myLoc">
          <tr ng-repeat="(key, value) in myLoc | limitTo : -5">
            <td>{{ $index + 1 }}</td>
            <td>{{value.latitude}}</td>
            <td>{{value.longitude}}</td>
          </tr>
          </div>
        </table>
      </div>

      <div class="one">
        <table>
          <h4>Motor Temperature: </h4>
          <tr ng-repeat="m in myMotor | limitTo : -5">
            <td>{{ $index + 1 }}</td>
            <td ng-class="{'red': (m.motortemp >= 90)}">{{m.motortemp}}</td>
          </tr>
        </table>
      </div>

       <div class="one">
        <table>
          <h4>Oil Temperature: </h4>
          <tr ng-repeat="m in myOilTemp | limitTo : -5">
            <td>{{ $index + 1 }}</td>
            <td ng-class="{'red': (m.oiltemp >= 90)}">{{m.oiltemp}}</td>
          </tr>
        </table>
      </div>

    </div>
    <hr>
    <br>
    
  <meta id ="chartContainer" http-equiv="refresh" content="40" />
  </div>

  <script src="controllers/controller.js"></script>
  <script src="maps.js"></script>
  <script src="gaugeFuelIndicator.js"></script>
  <script src="RealTimeCharts.js"></script>
</script>
</body>
</html>